<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Time Series Forecasting with Linear Regression Models • forecastLM</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Time Series Forecasting with Linear Regression Models">
<meta property="og:description" content="Provides a forecasting framework based on linear regression model.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">forecastLM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/intro.html">Introduction to the forecastLM package</a>
    </li>
    <li>
      <a href="articles/plot_fc.html">Forecast Plotting</a>
    </li>
    <li>
      <a href="articles/seasonality.html">Handling complex seasonality</a>
    </li>
    <li>
      <a href="articles/trend.html">Handling the Series Trend</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/RamiKrispin/forecastLM">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
<div id="forecastlm" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#forecastlm" class="anchor"></a>forecastLM</h1></div>
<!-- badges: start -->

<p>The forecastLM R package provides a framework for forecasting regular time-series data with linear regression models (based on the lm function). It supports both <code>tsibble</code> and <code>ts</code> objects as an input.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Currently, the package available only on Github version:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>remotes<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/remotes/topics/install_github">install_github</a></span>(<span class="st">"RamiKrispin/forecastLM"</span>)</span></code></pre></div>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<p>Forecasting the monthly demand for natural gas in the US:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Loading the data from the TSstudio package</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(TSstudio)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(<span class="st">"USgas"</span>)</span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/TSstudio/topics/ts_plot">ts_plot</a></span>(USgas, </span>
<span id="cb2-6"><a href="#cb2-6"></a>        <span class="dt">title =</span> <span class="st">"The Monthly Demand for Natural Gas in the US"</span>,</span>
<span id="cb2-7"><a href="#cb2-7"></a>        <span class="dt">Ytitle =</span> <span class="st">"Billion Cubic Feet"</span>,</span>
<span id="cb2-8"><a href="#cb2-8"></a>        <span class="dt">Xtitle =</span> <span class="st">"Source: U.S. Bureau of Transportation Statistics, Natural Gas Consumption [NATURALGAS]"</span>,</span>
<span id="cb2-9"><a href="#cb2-9"></a>        <span class="dt">Ygrid =</span> <span class="ot">TRUE</span>,</span>
<span id="cb2-10"><a href="#cb2-10"></a>        <span class="dt">Xgrid =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="reference/figures/USgas_plot.png" width="100%"></p>
<p>Train a forecasting model using the following features:</p>
<ul>
<li>Linear trend</li>
<li>Monthly seasonality</li>
<li>First and seasonal lags</li>
<li>Applying log transformation to the series</li>
<li>Using stepwise function for variables selection</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>md &lt;-<span class="st"> </span><span class="kw"><a href="reference/trainLM.html">trainLM</a></span>(<span class="dt">input =</span> USgas,</span>
<span id="cb3-2"><a href="#cb3-2"></a>              <span class="dt">trend =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">linear =</span> <span class="ot">TRUE</span>),</span>
<span id="cb3-3"><a href="#cb3-3"></a>              <span class="dt">seasonal =</span> <span class="st">"month"</span>,</span>
<span id="cb3-4"><a href="#cb3-4"></a>              <span class="dt">lags =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>, <span class="dv">12</span>),</span>
<span id="cb3-5"><a href="#cb3-5"></a>              <span class="dt">scale =</span> <span class="st">"log"</span>,</span>
<span id="cb3-6"><a href="#cb3-6"></a>              <span class="dt">step =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>Start:  AIC=-1364.47
USgas_log ~ month + linear_trend + lag_scale1 + lag_scale12

               Df Sum of Sq      RSS      AIC
&lt;none&gt;                      0.429104 -1364.47
- lag_scale12   1  0.009246 0.438350 -1361.72
- linear_trend  1  0.051063 0.480167 -1341.40
- lag_scale1    1  0.214653 0.643757 -1276.02
- month        11  0.414224 0.843328 -1235.80</code></pre>
<p>The function returns a list contains the model, fitted values, residuals, the input series, and the model parameters. The output of the model can be view with the <code>summary</code> function:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/summary">summary</a></span>(md<span class="op">$</span>model)</span></code></pre></div>
<pre><code>Call:
stats::lm(formula = USgas_log ~ month + linear_trend + lag_scale1 + 
    lag_scale12, data = df1)

Residuals:
       Min         1Q     Median         3Q        Max 
-0.1780124 -0.0271743  0.0032667  0.0289653  0.1326663 

Coefficients:
                 Estimate   Std. Error  t value              Pr(&gt;|t|)    
(Intercept)   2.364276205  0.483252934   4.8924 0.0000019928131084291 ***
monthFeb     -0.160975117  0.018005811  -8.9402 &lt; 0.00000000000000022 ***
monthMar     -0.157537232  0.018236682  -8.6385 0.0000000000000015098 ***
monthApr     -0.303900547  0.026042009 -11.6696 &lt; 0.00000000000000022 ***
monthMay     -0.269698541  0.030854197  -8.7411 0.0000000000000007785 ***
monthJun     -0.218092057  0.032846111  -6.6398 0.0000000002685697600 ***
monthJul     -0.124514577  0.030023305  -4.1473 0.0000490062229759277 ***
monthAug     -0.174574992  0.027789358  -6.2821 0.0000000019230157294 ***
monthSep     -0.283986218  0.032314991  -8.7881 0.0000000000000005741 ***
monthOct     -0.169093896  0.032157724  -5.2583 0.0000003599125220358 ***
monthNov     -0.084251796  0.026972913  -3.1236              0.002041 ** 
monthDec      0.039490453  0.019470147   2.0283              0.043809 *  
linear_trend  0.000479294  0.000096339   4.9751 0.0000013640958743227 ***
lag_scale1    0.580062379  0.056866457  10.2004 &lt; 0.00000000000000022 ***
lag_scale12   0.122618715  0.057919282   2.1171              0.035443 *  
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 0.04542 on 208 degrees of freedom
Multiple R-squared:  0.95466,   Adjusted R-squared:  0.95161 
F-statistic: 312.84 on 14 and 208 DF,  p-value: &lt; 0.000000000000000222</code></pre>
<p>The <code>plot_res</code> returns the residuals plot, including the following components:</p>
<ul>
<li>Actuals vs. fitted</li>
<li>The corresponding residuals</li>
<li>Residuals correlation (ACF)</li>
<li>Residuals distribution</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw"><a href="reference/plot_res.html">plot_res</a></span>(md)</span></code></pre></div>
<p><img src="reference/figures/res_plot.png" width="100%"></p>
<p>The <code>forecastLM</code> function forecast the future observation of the input object, and the <code>plot_fc</code> returns a plot of the forecast:</p>
<pre><code>fc &lt;- forecastLM(md, h = 60)

plot_fc(fc)</code></pre>
<p><img src="reference/figures/fc_plot.png" width="100%"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/RamiKrispin/forecastLM">https://​github.com/​RamiKrispin/​forecastLM</a>
</li>
<li>Report a bug at <br><a href="https://github.com/RamiKrispin/forecastLM/issues">https://​github.com/​RamiKrispin/​forecastLM/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Rami Krispin <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="lifecycle"></a></li>
<li><a href="https://cran.r-project.org/package=forecastLM"><img src="https://www.r-pkg.org/badges/version/forecastLM" alt="CRAN status"></a></li>
<li><a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="License: MIT"></a></li>
</ul>
</div>
</div>
</div>

      <footer><div class="copyright">
  <p>Developed by Rami Krispin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
